"use strict";(self.webpackChunk_okp4_team_wiki=self.webpackChunk_okp4_team_wiki||[]).push([[666],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},h="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),h=c(n),d=a,m=h["".concat(l,".").concat(d)]||h[d]||p[d]||r;return n?o.createElement(m,i(i({ref:t},u),{},{components:n})):o.createElement(m,i({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[h]="string"==typeof e?e:a,i[1]=s;for(var c=2;c<r;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6717:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var o=n(7462),a=(n(7294),n(3905));const r={sidebar_position:4,sidebar_label:"Github Flow",hide_table_of_contents:!0},i="Github Flow",s={unversionedId:"dev/github-flow",id:"dev/github-flow",title:"Github Flow",description:"Github",source:"@site/docs/dev/github-flow.md",sourceDirName:"dev",slug:"/dev/github-flow",permalink:"/fr/dev/github-flow",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,sidebar_label:"Github Flow",hide_table_of_contents:!0},sidebar:"dev",previous:{title:"Open Source",permalink:"/fr/dev/open-source"},next:{title:"Naming rules",permalink:"/fr/dev/naming-rules"}},l={},c=[{value:"Github",id:"github",level:2},{value:"The Flow",id:"the-flow",level:2},{value:"Developers Process",id:"developers-process",level:2},{value:"\ud83c\udf31 Create a new branch",id:"-create-a-new-branch",level:3},{value:"\ud83d\udd8a\ufe0f Commit your changes",id:"\ufe0f-commit-your-changes",level:3},{value:"\ud83e\uddf9 Keep your history clean",id:"-keep-your-history-clean",level:3},{value:"\ud83e\udd0f Keep your changes small",id:"-keep-your-changes-small",level:3},{value:"\ud83d\udcd0 Adhere to project conventions",id:"-adhere-to-project-conventions",level:3},{value:"\ud83e\uddea Test",id:"-test",level:4},{value:"\ud83d\udcd6 Document",id:"-document",level:3},{value:"\ud83d\udd04 Address feedback",id:"-address-feedback",level:3},{value:"\ud83e\udec2 Work with others",id:"-work-with-others",level:3},{value:"\ud83d\udc40 Review your changes",id:"-review-your-changes",level:3},{value:"\ud83d\udc40 Open a pull request",id:"-open-a-pull-request",level:3},{value:"\ud83e\udd13 And then what?",id:"-and-then-what",level:3},{value:"Reviewers Process",id:"reviewers-process",level:2},{value:"\ud83d\udd0d Focus",id:"-focus",level:3},{value:"\u2705 Objectivity",id:"-objectivity",level:3},{value:"\ud83d\udccc Mentions",id:"-mentions",level:3},{value:"\ud83d\udc4d Approval",id:"-approval",level:3},{value:"Assignees process",id:"assignees-process",level:2}],u={toc:c};function h(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"github-flow"},"Github Flow"),(0,a.kt)("h2",{id:"github"},"Github"),(0,a.kt)("p",null,"All the git repositories are hosted on GitHub in the ",(0,a.kt)("inlineCode",{parentName:"p"},"OKP4")," organization ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/okp4"},"here"),"."),(0,a.kt)("p",null,"\ud83d\udc6e Repository creation shall be discussed with Organization owners."),(0,a.kt)("h2",{id:"the-flow"},"The Flow"),(0,a.kt)("p",null,"When using Version Control like ",(0,a.kt)("a",{parentName:"p",href:"https://git-scm.com/"},"Git")," in a team, it's crucial to agree on a workflow, a ",(0,a.kt)("em",{parentName:"p"},"branching strategy"),". If we don't use a common workflow, confusion is inevitable."),(0,a.kt)("p",null,"The chosen workflow is ",(0,a.kt)("a",{parentName:"p",href:"https://docs.github.com/en/get-started/quickstart/github-flow"},"GitHub Flow")," which is lightweight and fits well with the gitops paradigm."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"main")," branch is the ",(0,a.kt)("em",{parentName:"p"},"default one")," for all the OKP4 repositories, containing both latest developments and production versions: a production version being simply a tag on the ",(0,a.kt)("inlineCode",{parentName:"p"},"main")," branch."),(0,a.kt)("p",null,"\u2716\ufe0f Don\u2019t git push straight to ",(0,a.kt)("inlineCode",{parentName:"p"},"main"),". ",(0,a.kt)("strong",{parentName:"p"},"Never!")),(0,a.kt)("p",null,"\u2714\ufe0f Every new developments shall be proposed in a ",(0,a.kt)("a",{parentName:"p",href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests"},"Pull Request")," and go through the review process."),(0,a.kt)("h2",{id:"developers-process"},"Developers Process"),(0,a.kt)("p",null,"Each new development should be referred to a ticket in the repository, or discussed in the dedicated space."),(0,a.kt)("p",null,"For instance:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The PR ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/okp4/ui/pull/308"},"okp4/ui - file input")," has been specified in ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/okp4/ui/issues/300"},"okp4/ui#300"),"."),(0,a.kt)("li",{parentName:"ul"},"The PR ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/okp4/ui/pull/344"},"okp4/ui - progress bar")," has been discussed in ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/okp4/ui/discussions/341"},"okp4/ui#341"),".")),(0,a.kt)("h3",{id:"-create-a-new-branch"},"\ud83c\udf31 Create a new branch"),(0,a.kt)("p",null,"To start new developments on a repository you first need to create a dedicated branch from the ",(0,a.kt)("inlineCode",{parentName:"p"},"main"),". This branch is a safe place to make changes, all the mistakes can be reverted until the branch is merged."),(0,a.kt)("p",null,"For instance:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git checkout -b feat/my-awesome-feature\n")),(0,a.kt)("h3",{id:"\ufe0f-commit-your-changes"},"\ud83d\udd8a\ufe0f Commit your changes"),(0,a.kt)("p",null,"Each commit shall contains isolate and complete changes."),(0,a.kt)("p",null,"\ud83d\udea8 Each single commit is important: They are used to generate changelogs and determine the release versions."),(0,a.kt)("p",null,"\ud83d\udc6e Sign your commits: ",(0,a.kt)("a",{parentName:"p",href:"https://docs.github.com/en/authentication/managing-commit-signature-verification/signing-commits"},"https://docs.github.com/en/authentication/managing-commit-signature-verification/signing-commits")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Clean and readable code"),": Ensure that your code follows the project's coding standards and guidelines. Use consistent indentation, meaningful variable and function names, and proper commenting. Well-organized and readable code makes it easier for reviewers to understand and provide feedback."),(0,a.kt)("h3",{id:"-keep-your-history-clean"},"\ud83e\uddf9 Keep your history clean"),(0,a.kt)("p",null,"The set of commits shall express the conducted thread that guided your developments and tell its story. Don't hesitate to squash multiple commits related to the same changes, use interactive rebase to retrace a logical development flow."),(0,a.kt)("p",null,"A clean history is also synonymous of a single thread of commits, this prohibits merge commits from your history."),(0,a.kt)("h3",{id:"-keep-your-changes-small"},"\ud83e\udd0f Keep your changes small"),(0,a.kt)("p",null,"Remember that the changes you make are meant to be reviewed, so keep the changes small (~300 lines of diff)."),(0,a.kt)("h3",{id:"-adhere-to-project-conventions"},"\ud83d\udcd0 Adhere to project conventions"),(0,a.kt)("p",null,"Familiarize yourself with the project's architecture, design patterns, and conventions. Make sure your changes align with the project's overall structure and coding style. Consistency across the codebase improves maintainability and readability."),(0,a.kt)("h4",{id:"-test"},"\ud83e\uddea Test"),(0,a.kt)("p",null,"Include relevant unit tests for the changes you've made. Ensure that all existing tests pass successfully. Test coverage should be comprehensive, covering different scenarios and edge cases. Thorough testing helps validate the correctness and stability of your code."),(0,a.kt)("h3",{id:"-document"},"\ud83d\udcd6 Document"),(0,a.kt)("p",null,"Update or create documentation as necessary. Document any new features, configuration changes, or APIs introduced by your code. Clear and concise documentation helps reviewers and other developers understand the changes and their impact."),(0,a.kt)("h3",{id:"-address-feedback"},"\ud83d\udd04 Address feedback"),(0,a.kt)("p",null,"Be prepared to address feedback and iterate on your code. Reviewers may provide suggestions, point out bugs, or ask for additional changes. Embrace feedback humbly, iterate on your code diligently, and continuously strive to improve based on the reviewer's insights, fostering a collaborative environment that values personal growth over ",(0,a.kt)("a",{parentName:"p",href:"/dev/what-should-i-know#1-you-are-not-your-code"},"ego-driven")," resistance."),(0,a.kt)("h3",{id:"-work-with-others"},"\ud83e\udec2 Work with others"),(0,a.kt)("p",null,"Your working branch shall always be up to date from the ",(0,a.kt)("inlineCode",{parentName:"p"},"main")," branch, when changes are integrated in the ",(0,a.kt)("inlineCode",{parentName:"p"},"main")," branch after the creation of your working branch you must update your branch."),(0,a.kt)("p",null,"\u26a0\ufe0f You could be tempted to update your branch by merging the ",(0,a.kt)("inlineCode",{parentName:"p"},"main")," branch in yours but it's ",(0,a.kt)("em",{parentName:"p"},"prohibited")," by clean history rule. Prefer use a ",(0,a.kt)("inlineCode",{parentName:"p"},"rebase")," to rewrite your history based on a fresh version of ",(0,a.kt)("inlineCode",{parentName:"p"},"main"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"git fetch\ngit rebase origin/main\n")),(0,a.kt)("p",null,"The same practice can be applied when updating your branch with its remote: ",(0,a.kt)("inlineCode",{parentName:"p"},"git pull --rebase")," will prevent merge commits. You can enable this strategy by default with: ",(0,a.kt)("inlineCode",{parentName:"p"},"git config --global pull.rebase true"),"."),(0,a.kt)("p",null,"Another point of attention is when you push your changes after rewriting the history, you'll need to force push as the commits hash have changed and it may end up with the loss of a teammate's work. To prevent that you can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"--force-with-lease")," option that will not overwrite any work on the remote branch if more commits were added to the remote branch."),(0,a.kt)("h3",{id:"-review-your-changes"},"\ud83d\udc40 Review your changes"),(0,a.kt)("p",null,"Review your changes: Take the time to review your own code before submitting the PR. Double-check for any potential issues, such as syntax errors, incorrect logic, or incomplete changes. Self-review helps catch simple mistakes and ensures a higher quality submission."),(0,a.kt)("h3",{id:"-open-a-pull-request"},"\ud83d\udc40 Open a pull request"),(0,a.kt)("p",null,"When you're done with the development, open a pull request targeting the ",(0,a.kt)("inlineCode",{parentName:"p"},"main")," branch to propose your changes and asks your collaborators for feedbacks by adding them as reviewers."),(0,a.kt)("h3",{id:"-and-then-what"},"\ud83e\udd13 And then what?"),(0,a.kt)("p",null,"The CI/CD performs a set of tasks automatically such as running linters against the code and run tests to guard against mistakes. These systems' duty is to make you worry as little about the chores as possible - rely on CI/CD."),(0,a.kt)("p",null,"Reviewers/maintainers will also review and comment on the code. The comments made are important, and should be taken into consideration. Remember that the entire point of a review is to find problems, and problems will be found. Don't take it personally when one is uncovered - You are not your code."),(0,a.kt)("p",null,"Don't hesitate to ask for help if you need it, the team is there to help."),(0,a.kt)("h2",{id:"reviewers-process"},"Reviewers Process"),(0,a.kt)("p",null,"The purpose of code review is to ensure code quality, identify potential issues, promote best practices, and foster collaboration among developers, ultimately leading to the improvement of the overall software development process and the creation of more reliable and maintainable code."),(0,a.kt)("p",null,"Reviewers have the responsibility to provide thorough and constructive feedback, identify potential flaws or improvements, ensure adherence to coding standards, and promote the overall quality of the codebase, contributing to the success of the project and the growth of the development team."),(0,a.kt)("h3",{id:"-focus"},"\ud83d\udd0d Focus"),(0,a.kt)("p",null,"Focus mostly on the ",(0,a.kt)("strong",{parentName:"p"},"structuring issues")," (such as code organization, functions, modules, interface definitions, etc.) that affect the code quality."),(0,a.kt)("h3",{id:"-objectivity"},"\u2705 Objectivity"),(0,a.kt)("p",null,"Be ",(0,a.kt)("strong",{parentName:"p"},"objective")," rather than subjective, don\u2019t comment just for the sake of commenting."),(0,a.kt)("h3",{id:"-mentions"},"\ud83d\udccc Mentions"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Avoid a large number of mentions")," in the comments since it causes more latency in the review process."),(0,a.kt)("h3",{id:"-approval"},"\ud83d\udc4d Approval"),(0,a.kt)("p",null,"The approval signifies that the changes have been thoroughly reviewed and are deemed acceptable for integration, contributing to the project's progress and success."),(0,a.kt)("p",null,"Your approval plays a crucial role in contributing to the progress and success of the project. If everything is satisfactory and meets the requirements, don't hesitate to approve the changes."),(0,a.kt)("h2",{id:"assignees-process"},"Assignees process"),(0,a.kt)("p",null,"Assignees have the responsibility to merge the PR once approved."),(0,a.kt)("p",null,"Once the Pull Request (PR) has received approval from (almost) all reviewers and all discussions have been resolved, the assignees are responsible for proceeding with the merging process. At this stage, if the code changes have been thoroughly reviewed, approved, and there are no further pending discussions, the assignees can proceed with merging the PR into the main codebase."))}h.isMDXComponent=!0}}]);